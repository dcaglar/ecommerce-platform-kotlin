","level":"INFO","thread_name":"outbox-mainenance-pool-1","logger_name":"com.zaxxer.hikari.HikariDataSource","message":"maint-pool - Start completed.","currWindowStart":"2025-11-12T14:30"}
payment-service-78cdb49c88-52872 payment-service {"@timestamp":"2025-11-12T14:40:11.983514629Z","level":"INFO","thread_name":"outbox-mainenance-pool-1","logger_name":"com.dogancaglar.paymentservice.application.maintenance.OutboxPartitionCreator","message":"Pruned old partitions up to 2025-11-12T14:30","currWindowStart":"2025-11-12T14:30"}
payment-service-78cdb49c88-52872 payment-service {"@timestamp":"2025-11-12T14:40:11.985129671Z","level":"INFO","thread_name":"outbox-mainenance-pool-1","logger_name":"com.dogancaglar.paymentservice.application.maintenance.OutboxPartitionCreator","message":"Partition prune complete started at 2025-11-12T14:40:11.776395671, ended at 2025-11-12T14:40:11.983612254, duration: 207 ","currWindowStart":"2025-11-12T14:30"}
payment-service-78cdb49c88-52872 payment-service {"@timestamp":"2025-11-12T14:40:12.872170921Z","level":"ERROR","thread_name":"outbox-mainenance-pool-1","logger_name":"com.dogancaglar.paymentservice.application.maintenance.OutboxPartitionCreator","message":"Error creating partition outbox_event_20251112_1430: StatementCallback; bad SQL grammar [CREATE TABLE IF NOT EXISTS outbox_event_20251112_1430\nPARTITION OF outbox_event\nFOR VALUES FROM ('2025-11-12 14:30:00') TO ('2025-11-12 15:00:00');]","from":"2025-11-12 14:30:00","partitionName":"outbox_event_20251112_1430","to":"2025-11-12 15:00:00","stack_trace":"org.springframework.jdbc.BadSqlGrammarException: StatementCallback; bad SQL grammar [CREATE TABLE IF NOT EXISTS outbox_event_20251112_1430\nPARTITION OF outbox_event\nFOR VALUES FROM ('2025-11-12 14:30:00') TO ('2025-11-12 15:00:00');]\n\tat org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:112)\n\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107)\n\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116)\n\tat org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1556)\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:408)\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:444)\n\tat com.dogancaglar.paymentservice.application.maintenance.OutboxPartitionCreator$ensurePartitionExists$1.invoke(OutboxPartitionCreator.kt:80)\n\tat com.dogancaglar.paymentservice.application.maintenance.OutboxPartitionCreator$ensurePartitionExists$1.invoke(OutboxPartitionCreator.kt:72)\n\tat com.dogancaglar.common.logging.LogContext.with(LogContext.kt:47)\n\tat com.dogancaglar.paymentservice.application.maintenance.OutboxPartitionCreator.ensurePartitionExists(OutboxPartitionCreator.kt:72)\n\tat com.dogancaglar.paymentservice.application.maintenance.OutboxPartitionCreator.ensureCurrentAndNext(OutboxPartitionCreator.kt:60)\n\tat com.dogancaglar.paymentservice.application.maintenance.OutboxPartitionCreator.ensureCurrentAndNextScheduled$lambda$0(OutboxPartitionCreator.kt:47)\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n\tat com.dogancaglar.paymentservice.application.config.MdcTaskDecorator.decorate$lambda$0(ThreadPoolConfig.kt:100)\n\tat org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler$DelegatingRunnableScheduledFuture.run(ThreadPoolTaskScheduler.java:508)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.postgresql.util.PSQLException: ERROR: partition \"outbox_event_20251112_1430\" would overlap partition \"outbox_event_2025_11\"\n  Position: 98\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:341)\n\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:326)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:302)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:297)\n\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)\n\tat org.springframework.jdbc.core.JdbcTemplate$1ExecuteStatementCallback.doInStatement(JdbcTemplate.java:435)\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:393)\n\t... 16 common frames omitted\n"}
payment-service-78cdb49c88-52872 payment-service {"@timestamp":"2025-11-12T14:40:12.876096838Z","level":"ERROR","thread_name":"outbox-mainenance-pool-1","logger_name":"com.dogancaglar.paymentservice.application.maintenance.OutboxPartitionCreator","message":"Error creating partition outbox_event_20251112_1500: StatementCallback; bad SQL grammar [CREATE TABLE IF NOT EXISTS outbox_event_20251112_1500\nPARTITION OF outbox_event\nFOR VALUES FROM ('2025-11-12 15:00:00') TO ('2025-11-12 15:30:00');]","from":"2025-11-12 15:00:00","partitionName":"outbox_event_20251112_1500","to":"2025-11-12 15:30:00","stack_trace":"org.springframework.jdbc.BadSqlGrammarException: StatementCallback; bad SQL grammar [CREATE TABLE IF NOT EXISTS outbox_event_20251112_1500\nPARTITION OF outbox_event\nFOR VALUES FROM ('2025-11-12 15:00:00') TO ('2025-11-12 15:30:00');]\n\tat org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:112)\n\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107)\n\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116)\n\tat org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1556)\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:408)\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:444)\n\tat com.dogancaglar.paymentservice.application.maintenance.OutboxPartitionCreator$ensurePartitionExists$1.invoke(OutboxPartitionCreator.kt:80)\n\tat com.dogancaglar.paymentservice.application.maintenance.OutboxPartitionCreator$ensurePartitionExists$1.invoke(OutboxPartitionCreator.kt:72)\n\tat com.dogancaglar.common.logging.LogContext.with(LogContext.kt:47)\n\tat com.dogancaglar.paymentservice.application.maintenance.OutboxPartitionCreator.ensurePartitionExists(OutboxPartitionCreator.kt:72)\n\tat com.dogancaglar.paymentservice.application.maintenance.OutboxPartitionCreator.ensureCurrentAndNext(OutboxPartitionCreator.kt:62)\n\tat com.dogancaglar.paymentservice.application.maintenance.OutboxPartitionCreator.ensureCurrentAndNextScheduled$lambda$0(OutboxPartitionCreator.kt:47)\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n\tat com.dogancaglar.paymentservice.application.config.MdcTaskDecorator.decorate$lambda$0(ThreadPoolConfig.kt:100)\n\tat org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler$DelegatingRunnableScheduledFuture.run(ThreadPoolTaskScheduler.java:508)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.postgresql.util.PSQLException: ERROR: partition \"outbox_event_20251112_1500\" would overlap partition \"outbox_event_2025_11\"\n  Position: 98\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:341)\n\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:326)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:302)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:297)\n\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)\n\tat org.springframework.jdbc.core.JdbcTemplate$1ExecuteStatementCallback.doInStatement(JdbcTemplate.java:435)\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:393)\n\t... 16 common frames omitted\n"}
payment-service-78cdb49c88-52872 payment-service {"@timestamp":"2025-11-12T14:40:12.877000463Z","level":"INFO","thread_name":"outbox-mainenance-pool-1","logger_name":"com.dogancaglar.paymentservice.application.maintenance.OutboxPartitionCreator","message":"Partition check complete started at 2025-11-12T14:40:12.805256338, ended at 2025-11-12T14:40:12.876581588, duration: 71 "}
payment-service-78cdb49c88-52872 payment-service {"@timestamp":"2025-11-12T14:40:14.565930922Z","level":"INFO","thread_name":"http-nio-9000-exec-1","logger_name":"org.apache.catalina.core.ContainerBase.[Tomcat-1].[localhost].[/]","message":"Initializing Spring DispatcherServlet 'dispatcherServletRegistration'"}
payment-service-78cdb49c88-52872 payment-service {"@timestamp":"2025-11-12T14:40:14.567820214Z","level":"INFO","thread_name":"http-nio-9000-exec-1","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Initializing Servlet 'dispatcherServletRegistration'"}
payment-service-78cdb49c88-52872 payment-service {"@timestamp":"2025-11-12T14:40:14.569084339Z","level":"INFO","thread_name":"http-nio-9000-exec-1","logger_name":"org.springframework.web.servlet.DispatcherServlet","message":"Completed initialization in 1 ms"}
payment-service-78cdb49c88-52872 payment-service {"@timestamp":"2025-11-12T14:41:12.704036505Z","level":"INFO","thread_name":"payment-service-spring-scheduled-1","logger_name":"com.dogancaglar.paymentservice.application.maintenance.AccountBalanceSnapshotJob","message":"\uD83D\uDD01 Starting AccountBalanceSnapshotJob"}
payment-service-78cdb49c88-52872 payment-service {"@timestamp":"2025-11-12T14:42:12.682729713Z","level":"INFO","thread_name":"payment-service-spring-scheduled-1","logger_name":"com.dogancaglar.paymentservice.application.maintenance.AccountBalanceSnapshotJob","message":"\uD83D\uDD01 Starting AccountBalanceSnapshotJob"}
payment-service-78cdb49c88-52872 payment-service {"@timestamp":"2025-11-12T14:43:12.744826421Z","level":"INFO","thread_name":"payment-service-spring-scheduled-1","logger_name":"com.dogancaglar.paymentservice.application.maintenance.AccountBalanceSnapshotJob","message":"\uD83D\uDD01 Starting AccountBalanceSnapshotJob"}
payment-service-78cdb49c88-52872 payment-service {"@timestamp":"2025-11-12T14:44:12.764163129Z","level":"INFO","thread_name":"payment-service-spring-scheduled-2","logger_name":"com.dogancaglar.paymentservice.application.maintenance.AccountBalanceSnapshotJob","message":"\uD83D\uDD01 Starting AccountBalanceSnapshotJob"}
payment-service-78cdb49c88-52872 payment-service {"@timestamp":"2025-11-12T14:45:11.811631712Z","level":"INFO","thread_name":"payment-service-spring-scheduled-2","logger_name":"com.dogancaglar.paymentservice.application.maintenance.OutboxDispatcherJob","message":"Backlog gauge reset to 0 (slow resync)"}
payment-service-78cdb49c88-52872 payment-service {"@timestamp":"2025-11-12T14:45:12.804080963Z","level":"INFO","thread_name":"payment-service-spring-scheduled-2","logger_name":"com.dogancaglar.paymentservice.application.maintenance.AccountBalanceSnapshotJob","message":"\uD83D\uDD01 Starting AccountBalanceSnapshotJob"}
payment-service-78cdb49c88-52872 payment-service {"@timestamp":"2025-11-12T14:46:12.820437879Z","level":"INFO","thread_name":"payment-service-spring-scheduled-2","logger_name":"com.dogancaglar.paymentservice.application.maintenance.AccountBalanceSnapshotJob","message":"\uD83D\uDD01 Starting AccountBalanceSnapshotJob"}
payment-service-78cdb49c88-52872 payment-service {"@timestamp":"2025-11-12T14:47:12.832834754Z","level":"INFO","thread_name":"payment-service-spring-scheduled-1","logger_name":"com.dogancaglar.paymentservice.application.maintenance.AccountBalanceSnapshotJob","message":"\uD83D\uDD01 Starting AccountBalanceSnapshotJob"}
payment-service-78cdb49c88-52872 payment-service {"@timestamp":"2025-11-12T14:48:12.857540463Z","level":"INFO","thread_name":"payment-service-spring-scheduled-2","logger_name":"com.dogancaglar.paymentservice.application.maintenance.AccountBalanceSnapshotJob","message":"\uD83D\uDD01 Starting AccountBalanceSnapshotJob"}
payment-service-78cdb49c88-52872 payment-service {"@timestamp":"2025-11-12T14:49:12.94984488Z","level":"INFO","thread_name":"payment-service-spring-scheduled-2","logger_name":"com.dogancaglar.paymentservice.application.maintenance.AccountBalanceSnapshotJob","message":"\uD83D\uDD01 Starting AccountBalanceSnapshotJob"}
payment-service-78cdb49c88-52872 payment-service {"@timestamp":"2025-11-12T14:50:11.868090171Z","level":"INFO","thread_name":"payment-service-spring-scheduled-2","logger_name":"com.dogancaglar.paymentservice.application.maintenance.OutboxDispatcherJob","message":"Backlog gauge reset to 0 (slow resync)"}
payment-service-78cdb49c88-52872 payment-service {"@timestamp":"2025-11-12T14:50:11.988620671Z","level":"ERROR","thread_name":"outbox-mainenance-pool-2","logger_name":"com.dogancaglar.paymentservice.application.maintenance.OutboxPartitionCreator","message":"Error creating partition outbox_event_20251112_1430: StatementCallback; bad SQL grammar [CREATE TABLE IF NOT EXISTS outbox_event_20251112_1430\nPARTITION OF outbox_event\nFOR VALUES FROM ('2025-11-12 14:30:00') TO ('2025-11-12 15:00:00');]","from":"2025-11-12 14:30:00","partitionName":"outbox_event_20251112_1430","to":"2025-11-12 15:00:00","stack_trace":"org.springframework.jdbc.BadSqlGrammarException: StatementCallback; bad SQL grammar [CREATE TABLE IF NOT EXISTS outbox_event_20251112_1430\nPARTITION OF outbox_event\nFOR VALUES FROM ('2025-11-12 14:30:00') TO ('2025-11-12 15:00:00');]\n\tat org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:112)\n\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107)\n\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116)\n\tat org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1556)\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:408)\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:444)\n\tat com.dogancaglar.paymentservice.application.maintenance.OutboxPartitionCreator$ensurePartitionExists$1.invoke(OutboxPartitionCreator.kt:80)\n\tat com.dogancaglar.paymentservice.application.maintenance.OutboxPartitionCreator$ensurePartitionExists$1.invoke(OutboxPartitionCreator.kt:72)\n\tat com.dogancaglar.common.logging.LogContext.with(LogContext.kt:47)\n\tat com.dogancaglar.paymentservice.application.maintenance.OutboxPartitionCreator.ensurePartitionExists(OutboxPartitionCreator.kt:72)\n\tat com.dogancaglar.paymentservice.application.maintenance.OutboxPartitionCreator.ensureCurrentAndNext(OutboxPartitionCreator.kt:60)\n\tat com.dogancaglar.paymentservice.application.maintenance.OutboxPartitionCreator.ensureCurrentAndNextScheduled$lambda$0(OutboxPartitionCreator.kt:47)\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n\tat com.dogancaglar.paymentservice.application.config.MdcTaskDecorator.decorate$lambda$0(ThreadPoolConfig.kt:100)\n\tat org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler$DelegatingRunnableScheduledFuture.run(ThreadPoolTaskScheduler.java:508)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: org.postgresql.util.PSQLException: ERROR: partition \"outbox_event_20251112_1430\" would overlap partition \"outbox_event_2025_11\"\n  Position: 98\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2725)\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2412)\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:371)\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:502)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:419)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:341)\n\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:326)\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:302)\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:297)\n\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)\n\tat org.springframework.jdbc.core.JdbcTemplate$1ExecuteStatementCallback.doInStatement(JdbcTemplate.java:435)\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:393)\n\t... 16 common frames omitted\n"}
payment-service-78cdb49c88-52872 payment-service {"@timestamp":"2025-11-12T14:50:12.002139462Z","level":"ERROR","thread_name":"outbox-mainenance-pool-2","logger_name":"com.dogancag