<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.3.xsd">
<changeSet id="2025-09-18-reset-autovacuum-payment-orders" author="dogancaglar">
    <preConditions onFail="MARK_RAN">
        <dbms type="postgresql"/>
    </preConditions>

    <!-- Keep default Postgres autovacuum behaviour on this table -->
    <sql>
        ALTER TABLE payment_orders
        RESET (autovacuum_enabled);
    </sql>

    <rollback>
        <!-- If you ever need to undo, explicitly re-enable -->
        <sql>
            ALTER TABLE payment_orders
            SET (autovacuum_enabled = true);
        </sql>
    </rollback>
</changeSet>

</databaseChangeLog>
